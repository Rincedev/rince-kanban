(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))f(o);new MutationObserver(o=>{for(const m of o)if(m.type==="childList")for(const L of m.addedNodes)L.tagName==="LINK"&&L.rel==="modulepreload"&&f(L)}).observe(document,{childList:!0,subtree:!0});function d(o){const m={};return o.integrity&&(m.integrity=o.integrity),o.referrerPolicy&&(m.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?m.credentials="include":o.crossOrigin==="anonymous"?m.credentials="omit":m.credentials="same-origin",m}function f(o){if(o.ep)return;o.ep=!0;const m=d(o);fetch(o.href,m)}})();const h={init(){document.querySelectorAll(".close").forEach(s=>{s.addEventListener("click",h.close)})},open(s){document.querySelector(s).showModal()},close(){document.querySelector("dialog[open]").close()}},g={baseUrl:"https://rince-kanban-api-production.up.railway.app",async getLists(){try{const s=await fetch(g.baseUrl+"/lists");return s.ok?await s.json():(console.error(s),null)}catch(s){return console.error(s),null}},async createList(s){try{const r=await fetch(g.baseUrl+"/lists",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return r.ok?await r.json():(console.error(r),null)}catch(r){return console.error(r),null}},async updateList(s,r){try{const d=await fetch(g.baseUrl+"/lists/"+s,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return d.ok?await d.json():(console.error(d),null)}catch(d){return console.error(d),null}},async deleteList(s){try{const r=await fetch(g.baseUrl+"/lists/"+s,{method:"DELETE"});return r.ok?void 0:(console.error(r),null)}catch(r){return console.error(r),null}},async createCard(s){try{const r=await fetch(g.baseUrl+"/cards",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});return r.ok?await r.json():(console.error(r),null)}catch(r){return console.error(r),null}},async updateCard(s,r){console.log(r);try{const d=await fetch(g.baseUrl+"/cards/"+s,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});return d.ok?await d.json():(console.error(d),null)}catch(d){return console.error(d),null}},async deleteCard(s){try{const r=await fetch(g.baseUrl+"/cards/"+s,{method:"DELETE"});return r.ok?void 0:(console.error(r),null)}catch(r){return console.error(r),null}}};var R=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function F(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var M={exports:{}},j=M.exports,H;function X(){return H||(H=1,function(s,r){(function(d,f){s.exports=f(d)})(typeof R<"u"?R:window||j.window||j.global,function(d){var f={},o="iziToast";document.querySelector("body");var m=!!/Mobi/.test(navigator.userAgent),L=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),w=typeof InstallTrigger<"u",C="ontouchstart"in document.documentElement,x=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],A={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-success"},warning:{color:"orange",icon:"ico-warning"},error:{color:"red",icon:"ico-error"},question:{color:"yellow",icon:"ico-question"}},I=568,S={};f.children={};var z={id:null,class:"",title:"",titleColor:"",titleSize:"",titleLineHeight:"",message:"",messageColor:"",messageSize:"",messageLineHeight:"",backgroundColor:"",theme:"light",color:"",icon:"",iconText:"",iconColor:"",iconUrl:null,image:"",imageWidth:50,maxWidth:null,zindex:null,layout:1,balloon:!1,close:!0,closeOnEscape:!1,closeOnClick:!1,displayMode:0,position:"bottomRight",target:"",targetFirst:!0,timeout:5e3,rtl:!1,animateInside:!0,drag:!0,pauseOnHover:!0,resetOnHover:!1,progressBar:!0,progressBarColor:"",progressBarEasing:"linear",overlay:!1,overlayClose:!1,overlayColor:"rgba(0, 0, 0, 0.6)",transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",buttons:{},inputs:{},onOpening:function(){},onOpened:function(){},onClosing:function(){},onClosed:function(){}};if("remove"in Element.prototype||(Element.prototype.remove=function(){this.parentNode&&this.parentNode.removeChild(this)}),typeof window.CustomEvent!="function"){var B=function(a,i){i=i||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(a,i.bubbles,i.cancelable,i.detail),e};B.prototype=window.Event.prototype,window.CustomEvent=B}var v=function(a,i,e){if(Object.prototype.toString.call(a)==="[object Object]")for(var t in a)Object.prototype.hasOwnProperty.call(a,t)&&i.call(e,a[t],t,a);else if(a)for(var l=0,u=a.length;l<u;l++)i.call(e,a[l],l,a)},E=function(a,i){var e={};return v(a,function(t,l){e[l]=a[l]}),v(i,function(t,l){e[l]=i[l]}),e},O=function(a){var i=document.createDocumentFragment(),e=document.createElement("div");for(e.innerHTML=a;e.firstChild;)i.appendChild(e.firstChild);return i},k=function(a){var i=btoa(encodeURIComponent(a));return i.replace(/=/g,"")},U=function(a){return a.substring(0,1)=="#"||a.substring(0,3)=="rgb"||a.substring(0,3)=="hsl"},P=function(a){try{return btoa(atob(a))==a}catch{return!1}},T=function(){return{move:function(a,i,e,t){var l,u=.3,n=180;t!==0&&(a.classList.add(o+"-dragged"),a.style.transform="translateX("+t+"px)",t>0?(l=(n-t)/n,l<u&&i.hide(E(e,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),a,"drag")):(l=(n+t)/n,l<u&&i.hide(E(e,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),a,"drag")),a.style.opacity=l,l<u&&((L||w)&&(a.style.left=t+"px"),a.parentNode.style.opacity=u,this.stopMoving(a,null)))},startMoving:function(a,i,e,t){t=t||window.event;var l=C?t.touches[0].clientX:t.clientX,u=a.style.transform.replace("px)","");u=u.replace("translateX(","");var n=l-u;e.transitionIn&&a.classList.remove(e.transitionIn),e.transitionInMobile&&a.classList.remove(e.transitionInMobile),a.style.transition="",C?document.ontouchmove=function(c){c.preventDefault(),c=c||window.event;var p=c.touches[0].clientX,y=p-n;T.move(a,i,e,y)}:document.onmousemove=function(c){c.preventDefault(),c=c||window.event;var p=c.clientX,y=p-n;T.move(a,i,e,y)}},stopMoving:function(a,i){C?document.ontouchmove=function(){}:document.onmousemove=function(){},a.style.opacity="",a.style.transform="",a.classList.contains(o+"-dragged")&&(a.classList.remove(o+"-dragged"),a.style.transition="transform 0.4s ease, opacity 0.4s ease",setTimeout(function(){a.style.transition=""},400))}}}();return f.setSetting=function(a,i,e){f.children[a][i]=e},f.getSetting=function(a,i){return f.children[a][i]},f.destroy=function(){v(document.querySelectorAll("."+o+"-overlay"),function(a,i){a.remove()}),v(document.querySelectorAll("."+o+"-wrapper"),function(a,i){a.remove()}),v(document.querySelectorAll("."+o),function(a,i){a.remove()}),this.children={},document.removeEventListener(o+"-opened",{},!1),document.removeEventListener(o+"-opening",{},!1),document.removeEventListener(o+"-closing",{},!1),document.removeEventListener(o+"-closed",{},!1),document.removeEventListener("keyup",{},!1),S={}},f.settings=function(a){f.destroy(),S=a,z=E(z,a||{})},v(A,function(a,i){f[i]=function(e){var t=E(S,e||{});t=E(a,t||{}),this.show(t)}}),f.progress=function(a,i,e){var t=this,l=i.getAttribute("data-iziToast-ref"),u=E(this.children[l],a||{}),n=i.querySelector("."+o+"-progressbar div");return{start:function(){typeof u.time.REMAINING>"u"&&(i.classList.remove(o+"-reseted"),n!==null&&(n.style.transition="width "+u.timeout+"ms "+u.progressBarEasing,n.style.width="0%"),u.time.START=new Date().getTime(),u.time.END=u.time.START+u.timeout,u.time.TIMER=setTimeout(function(){clearTimeout(u.time.TIMER),i.classList.contains(o+"-closing")||(t.hide(u,i,"timeout"),typeof e=="function"&&e.apply(t))},u.timeout),t.setSetting(l,"time",u.time))},pause:function(){if(typeof u.time.START<"u"&&!i.classList.contains(o+"-paused")&&!i.classList.contains(o+"-reseted")){if(i.classList.add(o+"-paused"),u.time.REMAINING=u.time.END-new Date().getTime(),clearTimeout(u.time.TIMER),t.setSetting(l,"time",u.time),n!==null){var c=window.getComputedStyle(n),p=c.getPropertyValue("width");n.style.transition="none",n.style.width=p}typeof e=="function"&&setTimeout(function(){e.apply(t)},10)}},resume:function(){typeof u.time.REMAINING<"u"?(i.classList.remove(o+"-paused"),n!==null&&(n.style.transition="width "+u.time.REMAINING+"ms "+u.progressBarEasing,n.style.width="0%"),u.time.END=new Date().getTime()+u.time.REMAINING,u.time.TIMER=setTimeout(function(){clearTimeout(u.time.TIMER),i.classList.contains(o+"-closing")||(t.hide(u,i,"timeout"),typeof e=="function"&&e.apply(t))},u.time.REMAINING),t.setSetting(l,"time",u.time)):this.start()},reset:function(){clearTimeout(u.time.TIMER),delete u.time.REMAINING,t.setSetting(l,"time",u.time),i.classList.add(o+"-reseted"),i.classList.remove(o+"-paused"),n!==null&&(n.style.transition="none",n.style.width="100%"),typeof e=="function"&&setTimeout(function(){e.apply(t)},10)}}},f.hide=function(a,i,e){typeof i!="object"&&(i=document.querySelector(i));var t=this,l=E(this.children[i.getAttribute("data-iziToast-ref")],a||{});l.closedBy=e||null,delete l.time.REMAINING,i.classList.add(o+"-closing"),function(){var c=document.querySelector("."+o+"-overlay");if(c!==null){var p=c.getAttribute("data-iziToast-ref");p=p.split(",");var y=p.indexOf(String(l.ref));y!==-1&&p.splice(y,1),c.setAttribute("data-iziToast-ref",p.join()),p.length===0&&(c.classList.remove("fadeIn"),c.classList.add("fadeOut"),setTimeout(function(){c.remove()},700))}}(),l.transitionIn&&i.classList.remove(l.transitionIn),l.transitionInMobile&&i.classList.remove(l.transitionInMobile),m||window.innerWidth<=I?l.transitionOutMobile&&i.classList.add(l.transitionOutMobile):l.transitionOut&&i.classList.add(l.transitionOut);var u=i.parentNode.offsetHeight;i.parentNode.style.height=u+"px",i.style.pointerEvents="none",(!m||window.innerWidth>I)&&(i.parentNode.style.transitionDelay="0.2s");try{var n=new CustomEvent(o+"-closing",{detail:l,bubbles:!0,cancelable:!0});document.dispatchEvent(n)}catch(c){console.warn(c)}setTimeout(function(){i.parentNode.style.height="0px",i.parentNode.style.overflow="",setTimeout(function(){delete t.children[l.ref],i.parentNode.remove();try{var c=new CustomEvent(o+"-closed",{detail:l,bubbles:!0,cancelable:!0});document.dispatchEvent(c)}catch(p){console.warn(p)}typeof l.onClosed<"u"&&l.onClosed.apply(null,[l,i,e])},1e3)},200),typeof l.onClosing<"u"&&l.onClosing.apply(null,[l,i,e])},f.show=function(a){var i=this,e=E(S,a||{});if(e=E(z,e),e.time={},e.id===null&&(e.id=k(e.title+e.message+e.color)),e.displayMode===1||e.displayMode=="once")try{if(document.querySelectorAll("."+o+"#"+e.id).length>0)return!1}catch{console.warn("["+o+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}if(e.displayMode===2||e.displayMode=="replace")try{v(document.querySelectorAll("."+o+"#"+e.id),function(n,c){i.hide(e,n,"replaced")})}catch{console.warn("["+o+"] Could not find an element with this selector: #"+e.id+". Try to set an valid id.")}e.ref=new Date().getTime()+Math.floor(Math.random()*1e7+1),f.children[e.ref]=e;var t={body:document.querySelector("body"),overlay:document.createElement("div"),toast:document.createElement("div"),toastBody:document.createElement("div"),toastTexts:document.createElement("div"),toastCapsule:document.createElement("div"),cover:document.createElement("div"),buttons:document.createElement("div"),inputs:document.createElement("div"),icon:e.iconUrl?document.createElement("img"):document.createElement("i"),wrapper:null};t.toast.setAttribute("data-iziToast-ref",e.ref),t.toast.appendChild(t.toastBody),t.toastCapsule.appendChild(t.toast),function(){if(t.toast.classList.add(o),t.toast.classList.add(o+"-opening"),t.toastCapsule.classList.add(o+"-capsule"),t.toastBody.classList.add(o+"-body"),t.toastTexts.classList.add(o+"-texts"),m||window.innerWidth<=I?e.transitionInMobile&&t.toast.classList.add(e.transitionInMobile):e.transitionIn&&t.toast.classList.add(e.transitionIn),e.class){var n=e.class.split(" ");v(n,function(c,p){t.toast.classList.add(c)})}e.id&&(t.toast.id=e.id),e.rtl&&(t.toast.classList.add(o+"-rtl"),t.toast.setAttribute("dir","rtl")),e.layout>1&&t.toast.classList.add(o+"-layout"+e.layout),e.balloon&&t.toast.classList.add(o+"-balloon"),e.maxWidth&&(isNaN(e.maxWidth)?t.toast.style.maxWidth=e.maxWidth:t.toast.style.maxWidth=e.maxWidth+"px"),(e.theme!==""||e.theme!=="light")&&t.toast.classList.add(o+"-theme-"+e.theme),e.color&&(U(e.color)?t.toast.style.background=e.color:t.toast.classList.add(o+"-color-"+e.color)),e.backgroundColor&&(t.toast.style.background=e.backgroundColor,e.balloon&&(t.toast.style.borderColor=e.backgroundColor))}(),function(){e.image&&(t.cover.classList.add(o+"-cover"),t.cover.style.width=e.imageWidth+"px",P(e.image.replace(/ /g,""))?t.cover.style.backgroundImage="url(data:image/png;base64,"+e.image.replace(/ /g,"")+")":t.cover.style.backgroundImage="url("+e.image+")",e.rtl?t.toastBody.style.marginRight=e.imageWidth+10+"px":t.toastBody.style.marginLeft=e.imageWidth+10+"px",t.toast.appendChild(t.cover))}(),function(){e.close?(t.buttonClose=document.createElement("button"),t.buttonClose.type="button",t.buttonClose.classList.add(o+"-close"),t.buttonClose.addEventListener("click",function(n){n.target,i.hide(e,t.toast,"button")}),t.toast.appendChild(t.buttonClose)):e.rtl?t.toast.style.paddingLeft="18px":t.toast.style.paddingRight="18px"}(),function(){e.progressBar&&(t.progressBar=document.createElement("div"),t.progressBarDiv=document.createElement("div"),t.progressBar.classList.add(o+"-progressbar"),t.progressBarDiv.style.background=e.progressBarColor,t.progressBar.appendChild(t.progressBarDiv),t.toast.appendChild(t.progressBar)),e.timeout&&(e.pauseOnHover&&!e.resetOnHover&&(t.toast.addEventListener("mouseenter",function(n){i.progress(e,t.toast).pause()}),t.toast.addEventListener("mouseleave",function(n){i.progress(e,t.toast).resume()})),e.resetOnHover&&(t.toast.addEventListener("mouseenter",function(n){i.progress(e,t.toast).reset()}),t.toast.addEventListener("mouseleave",function(n){i.progress(e,t.toast).start()})))}(),function(){e.iconUrl?(t.icon.setAttribute("class",o+"-icon"),t.icon.setAttribute("src",e.iconUrl)):e.icon&&(t.icon.setAttribute("class",o+"-icon "+e.icon),e.iconText&&t.icon.appendChild(document.createTextNode(e.iconText)),e.iconColor&&(t.icon.style.color=e.iconColor)),(e.icon||e.iconUrl)&&(e.rtl?t.toastBody.style.paddingRight="33px":t.toastBody.style.paddingLeft="33px",t.toastBody.appendChild(t.icon))}(),function(){e.title.length>0&&(t.strong=document.createElement("strong"),t.strong.classList.add(o+"-title"),t.strong.appendChild(O(e.title)),t.toastTexts.appendChild(t.strong),e.titleColor&&(t.strong.style.color=e.titleColor),e.titleSize&&(isNaN(e.titleSize)?t.strong.style.fontSize=e.titleSize:t.strong.style.fontSize=e.titleSize+"px"),e.titleLineHeight&&(isNaN(e.titleSize)?t.strong.style.lineHeight=e.titleLineHeight:t.strong.style.lineHeight=e.titleLineHeight+"px")),e.message.length>0&&(t.p=document.createElement("p"),t.p.classList.add(o+"-message"),t.p.appendChild(O(e.message)),t.toastTexts.appendChild(t.p),e.messageColor&&(t.p.style.color=e.messageColor),e.messageSize&&(isNaN(e.titleSize)?t.p.style.fontSize=e.messageSize:t.p.style.fontSize=e.messageSize+"px"),e.messageLineHeight&&(isNaN(e.titleSize)?t.p.style.lineHeight=e.messageLineHeight:t.p.style.lineHeight=e.messageLineHeight+"px")),e.title.length>0&&e.message.length>0&&(e.rtl?t.strong.style.marginLeft="10px":e.layout!==2&&!e.rtl&&(t.strong.style.marginRight="10px"))}(),t.toastBody.appendChild(t.toastTexts);var l;(function(){e.inputs.length>0&&(t.inputs.classList.add(o+"-inputs"),v(e.inputs,function(n,c){t.inputs.appendChild(O(n[0])),l=t.inputs.childNodes,l[c].classList.add(o+"-inputs-child"),n[3]&&setTimeout(function(){l[c].focus()},300),l[c].addEventListener(n[1],function(p){var y=n[2];return y(i,t.toast,this,p)})}),t.toastBody.appendChild(t.inputs))})(),function(){e.buttons.length>0&&(t.buttons.classList.add(o+"-buttons"),v(e.buttons,function(n,c){t.buttons.appendChild(O(n[0]));var p=t.buttons.childNodes;p[c].classList.add(o+"-buttons-child"),n[2]&&setTimeout(function(){p[c].focus()},300),p[c].addEventListener("click",function(y){y.preventDefault();var W=n[1];return W(i,t.toast,this,y,l)})})),t.toastBody.appendChild(t.buttons)}(),e.message.length>0&&(e.inputs.length>0||e.buttons.length>0)&&(t.p.style.marginBottom="0"),(e.inputs.length>0||e.buttons.length>0)&&(e.rtl?t.toastTexts.style.marginLeft="10px":t.toastTexts.style.marginRight="10px",e.inputs.length>0&&e.buttons.length>0&&(e.rtl?t.inputs.style.marginLeft="8px":t.inputs.style.marginRight="8px")),function(){t.toastCapsule.style.visibility="hidden",setTimeout(function(){var n=t.toast.offsetHeight,c=t.toast.currentStyle||window.getComputedStyle(t.toast),p=c.marginTop;p=p.split("px"),p=parseInt(p[0]);var y=c.marginBottom;y=y.split("px"),y=parseInt(y[0]),t.toastCapsule.style.visibility="",t.toastCapsule.style.height=n+y+p+"px",setTimeout(function(){t.toastCapsule.style.height="auto",e.target&&(t.toastCapsule.style.overflow="visible")},500),e.timeout&&i.progress(e,t.toast).start()},100)}(),function(){var n=e.position;if(e.target)t.wrapper=document.querySelector(e.target),t.wrapper.classList.add(o+"-target"),e.targetFirst?t.wrapper.insertBefore(t.toastCapsule,t.wrapper.firstChild):t.wrapper.appendChild(t.toastCapsule);else{if(x.indexOf(e.position)==-1){console.warn("["+o+`] Incorrect position.
It can be › `+x);return}m||window.innerWidth<=I?e.position=="bottomLeft"||e.position=="bottomRight"||e.position=="bottomCenter"?n=o+"-wrapper-bottomCenter":e.position=="topLeft"||e.position=="topRight"||e.position=="topCenter"?n=o+"-wrapper-topCenter":n=o+"-wrapper-center":n=o+"-wrapper-"+n,t.wrapper=document.querySelector("."+o+"-wrapper."+n),t.wrapper||(t.wrapper=document.createElement("div"),t.wrapper.classList.add(o+"-wrapper"),t.wrapper.classList.add(n),document.body.appendChild(t.wrapper)),e.position=="topLeft"||e.position=="topCenter"||e.position=="topRight"?t.wrapper.insertBefore(t.toastCapsule,t.wrapper.firstChild):t.wrapper.appendChild(t.toastCapsule)}isNaN(e.zindex)?console.warn("["+o+"] Invalid zIndex."):t.wrapper.style.zIndex=e.zindex}(),function(){e.overlay&&(document.querySelector("."+o+"-overlay.fadeIn")!==null?(t.overlay=document.querySelector("."+o+"-overlay"),t.overlay.setAttribute("data-iziToast-ref",t.overlay.getAttribute("data-iziToast-ref")+","+e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(t.overlay.style.zIndex=e.zindex-1)):(t.overlay.classList.add(o+"-overlay"),t.overlay.classList.add("fadeIn"),t.overlay.style.background=e.overlayColor,t.overlay.setAttribute("data-iziToast-ref",e.ref),!isNaN(e.zindex)&&e.zindex!==null&&(t.overlay.style.zIndex=e.zindex-1),document.querySelector("body").appendChild(t.overlay)),e.overlayClose?(t.overlay.removeEventListener("click",{}),t.overlay.addEventListener("click",function(n){i.hide(e,t.toast,"overlay")})):t.overlay.removeEventListener("click",{}))}(),function(){if(e.animateInside){t.toast.classList.add(o+"-animateInside");var n=[200,100,300];(e.transitionIn=="bounceInLeft"||e.transitionIn=="bounceInRight")&&(n=[400,200,400]),e.title.length>0&&setTimeout(function(){t.strong.classList.add("slideIn")},n[0]),e.message.length>0&&setTimeout(function(){t.p.classList.add("slideIn")},n[1]),(e.icon||e.iconUrl)&&setTimeout(function(){t.icon.classList.add("revealIn")},n[2]);var c=150;e.buttons.length>0&&t.buttons&&setTimeout(function(){v(t.buttons.childNodes,function(p,y){setTimeout(function(){p.classList.add("revealIn")},c),c=c+150})},e.inputs.length>0?150:0),e.inputs.length>0&&t.inputs&&(c=150,v(t.inputs.childNodes,function(p,y){setTimeout(function(){p.classList.add("revealIn")},c),c=c+150}))}}(),e.onOpening.apply(null,[e,t.toast]);try{var u=new CustomEvent(o+"-opening",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(u)}catch(n){console.warn(n)}setTimeout(function(){t.toast.classList.remove(o+"-opening"),t.toast.classList.add(o+"-opened");try{var n=new CustomEvent(o+"-opened",{detail:e,bubbles:!0,cancelable:!0});document.dispatchEvent(n)}catch(c){console.warn(c)}e.onOpened.apply(null,[e,t.toast])},1e3),e.drag&&(C?(t.toast.addEventListener("touchstart",function(n){T.startMoving(this,i,e,n)},!1),t.toast.addEventListener("touchend",function(n){T.stopMoving(this,n)},!1)):(t.toast.addEventListener("mousedown",function(n){n.preventDefault(),T.startMoving(this,i,e,n)},!1),t.toast.addEventListener("mouseup",function(n){n.preventDefault(),T.stopMoving(this,n)},!1))),e.closeOnEscape&&document.addEventListener("keyup",function(n){n=n||window.event,n.keyCode==27&&i.hide(e,t.toast,"esc")}),e.closeOnClick&&t.toast.addEventListener("click",function(n){i.hide(e,t.toast,"toast")}),i.toast=t.toast},f})}(M)),M.exports}var G=X();const N=F(G),b={init(){N.settings({position:"topRight",transitionIn:"fadeInUp",transitionOut:"fadeOutDown",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",timeout:5e3})},success(s){N.success({message:s})},error(s){N.error({message:s})},warning(s){N.warning({message:s})}},D={init(){this.bind()},bind(){document.querySelector("#add-card-modal form").addEventListener("submit",this.handleAddCard),document.querySelector("#modify-card-modal form").addEventListener("submit",this.handleModifyCard),document.querySelector("#confirm-delete-card-modal form").addEventListener("submit",this.handleDeleteCard)},async handleAddCard(s){s.preventDefault();const r=s.currentTarget,d=Object.fromEntries(new FormData(r));d.position||(d.position=document.querySelectorAll('[data-type="card"]').length+1),d.list_id=document.querySelector("#add-card-modal").dataset.listId,console.log(d);const f=await g.createCard(d);if(f===null){alert("Impossible de créer la carte !");return}const o=document.querySelector(`[data-type="list"][data-id="${f.list_id}"] .message-body`);D.addToList(f,o),h.close(),r.reset()},async handleModifyCard(s){s.preventDefault();const r=s.currentTarget,d=Object.fromEntries(new FormData(r)),f=document.querySelector("#modify-card-modal").dataset.cardId,o=await g.updateCard(f,d);if(o===null){b.error("Impossible de modifier la carte !");return}b.success("Carte modifiée avec succès !");const m=document.querySelector(`[data-type="card"][data-id="${f}"]`);m.querySelector('[slot="card-content"]').textContent=o.content,r.reset(),h.close()},async handleDeleteCard(s){s.preventDefault();const r=document.querySelector("#confirm-delete-card-modal").dataset.cardId;if(await g.deleteCard(r)===null){b.error("Impossible de supprimer la carte !");return}document.querySelector(`[data-type="card"][data-id="${r}"]`).remove(),h.close(),b.success("Carte supprimée avec succès !")},addToList(s,r){const f=document.getElementById("card-template").content.cloneNode(!0);f.querySelector('[slot="card-content"]').textContent=s.content,f.querySelector("#modify-card-button").addEventListener("click",()=>{document.querySelector("#modify-card-modal").dataset.cardId=s.id,h.open("#modify-card-modal")}),f.querySelector("#delete-card-button").addEventListener("click",()=>{document.querySelector("#confirm-delete-card-modal").dataset.cardId=s.id,h.open("#confirm-delete-card-modal")}),f.querySelector("[data-id]").dataset.id=s.id,r.append(f)},async updateCardPositions(s){try{console.log(s);for(const r of s){if(await g.updateCard(r.id,{position:r.position,list_id:r.list_id})===null){console.error(`Erreur lors de la mise à jour de la position pour la carte avec l'ID ${r.id}`);continue}console.log(`Position mise à jour pour la carte avec l'ID ${r.id}`)}}catch(r){console.error("Erreur réseau lors de la mise à jour des positions",r)}}},q={init(){this.bind(),this.load(),this.initListSortable()},bind(){document.getElementById("add-list-button").addEventListener("click",()=>h.open("#add-list-modal")),document.querySelector("#add-list-modal form").addEventListener("submit",this.handleAddList),document.querySelector("#modify-list-modal form").addEventListener("submit",this.handleModifyList),document.querySelector("#confirm-delete-list-modal form").addEventListener("submit",this.handleDeleteList)},async handleDeleteList(s){s.preventDefault();const r=document.querySelector("#confirm-delete-list-modal").dataset.listId;if(await g.deleteList(r)===null){b.error("Impossible de supprimer la liste !");return}document.querySelector(`[data-type="list"][data-id="${r}"]`).remove(),h.close(),b.success("Liste supprimée avec succès !")},async handleModifyList(s){s.preventDefault();const r=s.currentTarget,d=Object.fromEntries(new FormData(r));console.log(d);const f=document.querySelector("#modify-list-modal").dataset.listId,o=await g.updateList(f,d);if(o===null){b.error("Impossible de modifier la liste !");return}b.success("Liste modifiée avec succès !");const m=document.querySelector(`[data-id="${f}"]`);m.querySelector('[slot="list-title"]').textContent=o.title,r.reset(),h.close()},async handleAddList(s){s.preventDefault();const r=s.currentTarget,d=Object.fromEntries(new FormData(r));d.position||(d.position=document.querySelectorAll('[data-type="list"]').length+1),console.log(d);const f=await g.createList(d);if(f===null){b.error("Impossible de créer la liste !");return}b.success("Liste créée avec succès !"),q.addToDOM(f),h.close(),r.reset()},async load(){const s=await g.getLists();if(console.log(s),s===null){b.error("Impossible de charger les listes !");return}s.forEach(r=>q.addToDOM(r))},addToDOM(s){const d=document.getElementById("list-template").content.cloneNode(!0);d.querySelector('[slot="list-title"]').textContent=s.title,d.querySelector("[data-id]").dataset.id=s.id;const f=d.querySelector("#modify-list-button"),o=d.querySelector("#delete-list-button"),m=d.querySelector("#add-card-button");f.addEventListener("click",()=>{document.querySelector("#modify-list-modal").dataset.listId=s.id,h.open("#modify-list-modal")}),o.addEventListener("click",()=>{document.querySelector("#confirm-delete-list-modal").dataset.listId=s.id,h.open("#confirm-delete-list-modal")}),m.addEventListener("click",()=>{document.querySelector("#add-card-modal").dataset.listId=s.id,h.open("#add-card-modal")});const L=d.querySelector(".message-body");L.dataset.listId=s.id,s.cards&&s.cards.forEach(w=>{D.addToList(w,L)}),new Sortable(L,{animation:150,group:"cards",onEnd:async function(w){try{const C=w.to.dataset.listId,x=w.to.querySelectorAll('[data-type="card"]'),A=Array.from(x).map((I,S)=>({id:I.dataset.id,position:S+1,list_id:C}));await D.updateCardPositions(A)}catch(C){console.error("Erreur lors de la mise à jour des positions",C)}}}),document.getElementById("lists-container").append(d)},initListSortable(){const s=document.getElementById("lists-container");new Sortable(s,{animation:150,group:"lists",sort:!0,handle:".message-header",draggable:".message.is-info",onEnd:async function(r){const d=s.querySelectorAll('[data-type="list"]'),f=Array.from(d).map((o,m)=>({id:o.dataset.id,position:m+1}));await q.updateListPositions(f)}})},async updateListPositions(s){try{for(const r of s){if(await g.updateList(r.id,{position:r.position})===null){console.error(`Erreur lors de la mise à jour de la position pour la liste avec l'ID ${r.id}`);continue}console.log(`Position mise à jour pour la liste avec l'ID ${r.id}`)}}catch(r){console.error("Erreur réseau lors de la mise à jour des positions",r)}}},_={init(){h.init(),q.init(),D.init(),b.init()}};document.addEventListener("DOMContentLoaded",_.init);
